
<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
  <title>CFD æ£€æŸ¥è¡¨ï¼šæˆæœ¬ä¸é£é™© (CFD Checklist: Cost & Risk)</title>
  <style>
    body { font-family: Arial; margin: 40px; max-width: 600px; }
    h2 { color: #333366; }
    label, input { display: block; margin: 10px 0; }
    input[type=number] { width: 100%; padding: 6px; }
    button { margin-top: 15px; padding: 10px 20px; background: #336699; color: white; border: none; cursor: pointer; }
    .result { margin-top: 20px; font-weight: bold; }
  </style>
</head>
<body>
  <h2>ğŸ§® æ€»æˆæœ¬ (Total Cost Summary)</h2>
  <label>ç‚¹å·® (Spread)ï¼ˆç¾å…ƒ USDï¼‰ï¼š<input type="number" id="spread" value="0.4"></label>
  <label>ä½£é‡‘ (Commission)ï¼ˆç¾å…ƒ USDï¼‰ï¼š<input type="number" id="commission" value="0"></label>
  <label>éš”å¤œåˆ©æ¯ (Swap / Overnight Fee)ï¼ˆç¾å…ƒ USDï¼‰ï¼š<input type="number" id="swap" value="0"></label>
  <label>æ»‘ç‚¹ (Slippage)ï¼ˆç¾å…ƒ USDï¼‰ï¼š<input type="number" id="slippage" value="0.5"></label>
  <button onclick="calculateCost()">è®¡ç®—æˆæœ¬ (Calculate Cost)</button>
  <div class="result" id="cost_result">äº¤æ˜“æˆæœ¬ (Estimated Transaction Cost): $0.90</div>

  <h2>ä»“ä½ä¸é£é™©æ§åˆ¶ (Risk & Position Sizing)</h2>
  <label>è´¦æˆ·ä½™é¢ (Account Balance)ï¼ˆç¾å…ƒ USDï¼‰ï¼š<input type="number" id="balance" value="1350"></label>
  <label>æ¯ç¬”äº¤æ˜“é£é™© (Risk per Trade)ï¼ˆä½™é¢çš„ç™¾åˆ†æ¯” % of balanceï¼‰ï¼š<input type="number" id="risk_pct" value="0.5" step="0.1"></label>
  <label>æ­¢æŸè·ç¦» (Stop-loss Distance)ï¼ˆç¾å…ƒ USDï¼‰ï¼š<input type="number" id="stop_loss" value="2"></label>
  <label>åˆçº¦è§„æ¨¡ (Contract Size)ï¼ˆä¾‹å¦‚ é»„é‡‘ä¸º100, e.g. 100 for goldï¼‰ï¼š<input type="number" id="contract_size" value="100"></label>
  <label>æ æ† (Leverage)ï¼ˆä¾‹å¦‚100 è¡¨ç¤º1:100ï¼‰ï¼š<input type="number" id="leverage" value="100"></label>
  <button onclick="calculateRisk()">è®¡ç®—ä»“ä½ (Calculate Position)</button>
  <div class="result" id="risk_result">
    æ‰‹æ•° (Lot Size): - &nbsp;|&nbsp; 1R (R è¡¨ç¤ºé£é™©å•ä½, risk unit): $-
  </div>


  <h2>ä¿è¯é‡‘/ä»“ä½ è®¡ç®—å™¨ (Margin & Lot Calculator)</h2>
  <label>é‡‘ä»· (Price per Ounce)ï¼ˆç¾å…ƒ/ç›å¸ USD/ozï¼‰ï¼š<input type="number" id="gold-price" step="0.01"></label>
  <label>æ‰‹æ•° (Lot Size)ï¼š<input type="number" id="lot-size" step="0.01"></label>
  <label>æ æ† (Leverage)ï¼ˆå¦‚100 è¡¨ç¤º1:100ï¼‰ï¼š<input type="number" id="leverage2" step="1"></label>
  <button id="calculate-margin">è®¡ç®—ä¿è¯é‡‘ (Calculate Margin)</button>
  <div class="result">ä¿è¯é‡‘ (Margin) = <span id="calculated-margin">â€”</span> ç¾å…ƒ</div>

<script>
function calculateCost() {
  const spread = parseFloat(document.getElementById("spread").value);
  const commission = parseFloat(document.getElementById("commission").value);
  const swap = parseFloat(document.getElementById("swap").value);
  const slippage = parseFloat(document.getElementById("slippage").value);
  const totalCost = (spread + commission + swap + slippage).toFixed(2);
  document.getElementById("cost_result").innerHTML =
    `äº¤æ˜“æˆæœ¬ (Estimated Transaction Cost): $${totalCost}`;
}

function calculateRisk() {
  const balance = parseFloat(document.getElementById("balance").value);
  const riskPct = parseFloat(document.getElementById("risk_pct").value);
  const stopLoss = parseFloat(document.getElementById("stop_loss").value);
  const contractSize = parseFloat(document.getElementById("contract_size").value);
  const leverage = parseFloat(document.getElementById("leverage").value);
  const oneR = (balance * (riskPct / 100)).toFixed(2);
  const dollarPerLot = contractSize * stopLoss;
  const lotSize = (oneR / dollarPerLot).toFixed(5);
  document.getElementById("risk_result").innerHTML =
    `æ‰‹æ•° (Lot Size): ${lotSize} | 1R (R è¡¨ç¤ºé£é™©å•ä½, risk unit): $${oneR}`;
}

document.getElementById('calculate-margin').addEventListener('click', function() {
  const price = parseFloat(document.getElementById('gold-price').value) || 0;
  const lots = parseFloat(document.getElementById('lot-size').value) || 0;
  const lev = parseFloat(document.getElementById('leverage2').value) || 1;
  const contractSize = 100;
  const margin = price * contractSize * lots / lev;
  document.getElementById('calculated-margin').textContent = margin.toFixed(2);
});

document.getElementById('calculate-breakeven').addEventListener('click', function() {
  const cost = parseFloat(document.getElementById('total-cost').value) || 0;
  const lots = parseFloat(document.getElementById('breakeven-lots').value) || 1;
  const contractSize = 100; // å›ºå®šé»„é‡‘CFDçš„åˆçº¦è§„æ¨¡
  const result = cost / (contractSize * lots);
  document.getElementById('breakeven-result').textContent = result.toFixed(4);
});
</script>


</body>
</html>
